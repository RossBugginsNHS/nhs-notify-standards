$schema: https://json-schema.org/draft/2020-12/schema
title: Example Event
description: Example  event
type: object
allOf:
  - $ref: ../example-profile.schema.yaml
properties:
  type:
    type: string
    const: uk.nhs.notify.ordering.order.read.v1
    description: Concrete versioned event type string for this example event (.vN suffix).
    examples:
      - uk.nhs.notify.ordering.order.read.v1
  source:
    type: string
    pattern: ^/nhs/england/notify/(production|staging|development|uat)/(primary|secondary|dev-[0-9]+)/data-plane/ordering
    description: Event source for ordering domain examples.
    examples:
      - /nhs/england/notify/production/primary/data-plane/ordering
  subject:
    type: string
    pattern: ^customer/[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}/order/[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}/item/[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$
    description: Path in the form customer/{id}/order/{id}/item/{id} where each {{id}} is a UUID (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).
    examples:
      - customer/920fca11-596a-4eca-9c47-99f624614658/order/769acdd4-6a47-496f-999f-76a6fd2c3959/item/4f5e17c0-ec57-4cee-9a86-14580cf5af7d
  dataschema:
    type: string
    const: ../data/nhs-notify-example-event-data.schema.yaml
    description: Canonical URI of the example event's data schema.
    examples:
      - nhs-notify-example-event-data.schema.yaml
  data:
    $ref: "../data/nhs-notify-example-event-data.schema.yaml"
    description: Example payload wrapper containing notify-payload.
required:
  - type
  - source
  - dataschema
  - data

examples:
  - specversion: "1.0"
    id: 6f1c2a53-3d54-4a0a-9a0b-0e9ae2d4c111
    type: uk.nhs.notify.ordering.order.read.v1
    source: /data-plane/ordering
    subject: customer/920fca11-596a-4eca-9c47-99f624614658/order/769acdd4-6a47-496f-999f-76a6fd2c3959/item/4f5e17c0-ec57-4cee-9a86-14580cf5af7d
    time: "2025-10-01T10:15:30.000Z"
    recordedtime: "2025-10-01T10:15:30.250Z"
    traceparent: 00-0af7651916cd43dd8448eb211c80319c-b7ad6b7169203331-01
    severitynumber: 1
    severitytext: DEBUG
    dataschema: https://nhsdigital.github.io/nhs-notify-standards/cloudevents/nhs-notify-example-event-data.schema.yaml
    data:
      notify-payload:
        notify-data:
          nhsNumber: "9434765919"
        notify-metadata:
          teamResponsible: Team 1
          notifyDomain: Ordering
